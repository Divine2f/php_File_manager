'use strict';

(function($){

/* Swift UI Accordion */
$('.sw-accordion-toggler, .sw-accordion-toggler-o').each(function(){
    $(this).on('click', function(e){
      e.preventDefault();
       $(this).toggleClass('active');
    $(this).next().toggleClass('ds-acc');
    });
  });

/* Swift UI Buttons */
$('.sw-btn').on('click', function(){
  $(this).css('outline', 'none');
});


/* Swift UI Dropdowns */
$('.sw-dropdown-click').each(function(){
$(this).on('click', function(){
$(this).toggleClass('active');
$(this).children('.sw-dropdown-content').toggleClass('ds-block');

if ($(this).hasClass('sw-nav-menu')) {
var $this = $(this);
$this.addClass('this')

var otherDropdowns = $this.siblings(".sw-dropdown-click").removeClass('this')
if ($this.hasClass('this')) {
otherDropdowns.removeClass('active');
otherDropdowns.children('.sw-dropdown-content').removeClass('ds-block')
}

}

$('.sw-dropdown-content.sw-dropdown-dynamic .sw-dropdown-list').on('click', function(){
  var currentElement = $(this).html();
  $(this).parent().parent().children('.sw-dropdown-toggler-y').html(currentElement);
});

});
})



/* Swift UI Forms */

// Clear input values on reload
/*$(window).on('load', function(){
  $('.sw-input, .sw-float-input').val('');
});*/

// Toggle placeholder on input focus and blur
 $('.sw-input').each(function(){
var swiftPlaceholder = $(this).attr('placeholder');
$(this).on('focus', function(){
      $(this).attr('placeholder', '');
});

$(this).on('blur', function(){
$(this).attr('placeholder', swiftPlaceholder);
});
});

// change border color on input focus
  $('.sw-input, .icount').on('focus', function(){
      var inputFocus = $(this).data('focus');
      if (inputFocus) {
      $(this).css('border-color', inputFocus);
      }
    });

    $('.sw-input-addon-append input').on('focus', function(){
      var inputAddonFocus = $(this).parent().data('focus');
      var addon = $(this).parent().children('span')
      if (inputAddonFocus) {
      $(this).css('border-color', inputAddonFocus);
        addon.css('border-color', inputAddonFocus)
      }
    })

// Return border color on input blur
$('.sw-input, .icount').on('blur', function(){
      var inputFocus = $(this).data('focus');
      if (inputFocus) {
      $(this).css('border-color', '');
      }
    });

    $('.sw-input-addon-append input').on('blur', function(){
      var inputAddonFocus = $(this).parent().data('focus');
      var addon = $(this).parent().children('span')
      if (inputAddonFocus) {
      $(this).css('border-color', '')
        addon.css('border-color', '')
      }
    })

  // Swift Inline Form Input Width
 $.fn.swiftInlineForm = function() {
  $(this).each(function(){
    var inlineFormWidth = $(this).attr('data-form-width');
    $(this).children('input').css('width', inlineFormWidth+'%');
  });
 }
 $('.sw-inline-form').swiftInlineForm();

// Input File
$('.sw-input-file').on('change', function(){
  var swFile = $(this).val().split('\\').pop();
  $(this).siblings('.sw-file-label').html(swFile).addClass('font-xm');
});

// Input Number
$('.icount-decrement').on('click', function(){
        var iCount = Number($(this).next().val());
        //if(iCount > 0)
        $(this).next().val(iCount - 1);
    });

    $('.icount-increment').on('click', function(){
        var iCount = Number($(this).prev().val());
        $(this).prev().val(iCount + 1);
    });

  // Swift Checkbox
    $('.sw-check-pair .sw-checkbox').click(function() {
        $('.sw-check-pair .sw-checkbox').not(this).prop('checked', false);
    });

// Swift Float Label
$('.sw-float-input').on('focus', function(){
  var parentFloat = $(this).parent().parent();
  parentFloat.addClass('focus');
  });

  $('.sw-float-input').on('blur', function(){
  var parentFloat = $(this).parent().parent();
  if ($(this).val() == '') {
    parentFloat.removeClass('focus');
  }
  });

/* Swift UI List Group */
// List Group Border Color

$.fn.swiftListBorder = function() {
 $(this).each(function(){
   var listBorder = $(this).attr('data-list-border');
   var listBorderColor = $(this).attr('data-border-color');
   if ((listBorder == 'left,right') && (!listBorderColor)) {
     $(this).children('.sw-list-group-menu').css({
       'border-left': '3px solid coral',
       'border-right': '3px solid coral'
     });

   } else if ((listBorder == 'left,right') && (listBorderColor != '')) {
     $(this).children('.sw-list-group-menu').css({
       'border-left': '3px solid '+listBorderColor,
       'border-right': '3px solid '+listBorderColor
     });
   } else if((listBorder == 'left') && (!listBorderColor)) {
      $(this).children('.sw-list-group-menu').css('border-left', '3px solid coral');
   } else if((listBorder == 'left') && (listBorderColor != '')) {
     $(this).children('.sw-list-group-menu').css('border-left','3px solid '+listBorderColor);
   }

   else if((listBorder == 'right') && (!listBorderColor)) {
      $(this).children('.sw-list-group-menu').css('border-right', '3px solid coral');
   } else if((listBorder == 'right') && (listBorderColor != '')) {
     $(this).children('.sw-list-group-menu').css('border-right','3px solid '+listBorderColor);
   }
 });
}
$('.sw-list-group').swiftListBorder();

/* Swift UI Modal */
$.fn.swiftModal = function(){
  $(this).click(function(event){
    var dataModal = $(this).attr('data-modal');
    $(dataModal).show();
    $('.close-popup, .sw-modal').click(function(){
      $(dataModal).hide();
    });
  });

  $('.sw-modal-body').click(function(event){
    event.stopPropagation();
  });
}
$('.sw-modal-open').swiftModal();


/* Swift UI Modal Auto */
$(window).on('load', function(){
  var modalAuto = $('.modal-auto')
  var dataModalAuto = modalAuto.attr('data-set')
  var dataModalTime = modalAuto.attr('data-timeout')
  var modalTimeout = dataModalTime * 1000

  setTimeout(function(){
    modalAuto.show()
    $('.close-popup, .sw-modal').click(function(){
      modalAuto.hide();
    });
  },modalTimeout)

})







/* Swift UI Navbar */

$.fn.swiftNavbar = function() {
  $(this).each(function(){
    var swNavbar = $(this);
// Swift Navbar Effect: box-shadow
    var swiftNavShadow = $(this).data('effect');
    if (swiftNavShadow == 'shadow') {
      $(this).addClass('nav-shadow');
    }

// Swift Navbar Menu Scroll
    var swiftVerScroll = $(this).data('menu-scroll');
    if (swiftVerScroll == 'scroll-x') {
      $(this).addClass('mb-menu-x-scroll');
    } else if (swiftVerScroll == 'scroll-y') {
      $(this).find('.sw-nav-right').addClass('mb-menu-y-scroll');
    }

// Swift Navbar Color Change On Scroll
    $(window).on('scroll', function(){
      if ($(swNavbar).hasClass('sw-navbar-sticky')) {
      var swiftNavScroll = $(swNavbar).data('onscroll');
      //console.log(swiftNavScroll);
      if ($(window).scrollTop() > 50) {
        $(swNavbar).addClass(swiftNavScroll);
      } else if ($(window).scrollTop() < 50) {
        $(swNavbar).removeClass(swiftNavScroll);
      }
      }

    });
/**/
  });
}
$('.sw-navbar').swiftNavbar();


// Swift Mobile Menu
$.fn.swiftMobile = function() {
  $(this).click(function(event){
    // Swift Horizontal Mobile Menu
    var swiftCheckMobile = $(this).data('mobile');

    if((swiftCheckMobile) == 'horizontal') {
      var swiftHorMenu = $(this).parent().parent().find('.sw-nav-right');
      swiftHorMenu.toggleClass('hor-menu');
      swiftHorMenu.children().children('li').css({
         'display': 'block',
         'float': 'none'
       });
      var swiftHorMenuCenter = $(this).parent().parent().find('.sw-nav-center');
      swiftHorMenuCenter.toggleClass('sw-nav-center-mb');
      //console.log(swiftHorMenuCenter);

    var swiftMobileClose = $(this).data('toggle');
    if((swiftMobileClose) == 'toggle') {
      $(this).children('.sw-hamburger').toggleClass('ds-none');
      $(this).children('.sw-ham-close').toggleClass('ds-none');
    //  console.log(swiftMobileMenuClose)
    }

}

    // Swift Vertical Mobile Menu
    if ((swiftCheckMobile) == 'vertical') {

   var dataToggle = $(this).data('toggle')
   if(dataToggle == 'toggle') {
     var swiftVerMobile = $(this).data('menu');
     $(swiftVerMobile).toggleClass('toggleBar')
      //console.log(swiftVerMobile);
     $(this).children('.sw-hamburger').toggleClass('ds-none');
     $(this).children('.sw-ham-close').toggleClass('ds-none');
   } else if (dataToggle == 'no-toggle') {
     var swiftVerMobile = $(this).data('menu');
     $(swiftVerMobile).addClass('toggleBar')
     $(swiftVerMobile).children('.sw-menu-close').on('click', function(){
       $(swiftVerMobile).removeClass('toggleBar')
     })
   }

   var dataPos = $(this).data('pos')
   var swiftVerMobile = $(this).data('menu');
   if(dataPos == 'right') {
     $(swiftVerMobile).addClass('sw-p-right')
   } else {
     $(swiftVerMobile).addClass('sw-p-left')
   }

}

  })
}
$('.sw-mb-ham').swiftMobile()


/* Swift UI Notification */
 var alertClose = $('.sw-ui-cancel').data('close')
if (alertClose == 'ui-cancel') {
   $('.sw-ui-cancel').on('click', function(){
     if ($(this).parent().data('animate') == 'fade') {
       $(this).parent().fadeOut(1000)
     } else if ($(this).parent().data('animate') == 'slide') {
       $(this).parent().slideUp()
     }
     else {
       $(this).parent().hide()
     }

   })
}


/* Swift UI Pagination */
if ($('.sw-pagination').data('pagination') == 'uniform') {
var swiftPaginationColor = $('.sw-pagination').data('color')
$('.sw-pagination').children('.active').children('.sw-page').css({
  'background': swiftPaginationColor,
  'border-color': swiftPaginationColor
})

$('.sw-pagination').children('.sw-page-list').not('.active').children('.sw-page').css({
  'color': swiftPaginationColor
})

//console.log(swiftPaginationColor);
}




/* Swift UI Progressbar */
    $.fn.swiftProgressbar = function(){
        $(this).each(function(){
        var progressBar = $(this).attr('data-value-max');
        var activeProgress = $(this).attr('data-value');
        var progressColor = $(this).attr('data-progress-color');
        $(this).css('width', progressBar+'%');
        $(this).children('.sw-progress-container').css('width', activeProgress+'%');
        $(this).children('.sw-progress-container').css('background', progressColor);

        });
    }

    $('.sw-progressbar').swiftProgressbar();


    /* Swift UI Scroll To Top */
    $(window).scroll(function () {
    if ($(this).scrollTop() > 50) {
      $('.sw-to-top').fadeIn();
    } else {
      $('.sw-to-top').fadeOut();
    }
  });
  // scroll body to 0px on click
  $('.sw-to-top').click(function () {
    $('body,html').animate({
      scrollTop: 0
    }, 1500);
    return false;
  });


  /* Swift UI Side Menu */
  $.fn.swiftSideMenu = function() {
    $(this).click(function(){
      var sideMenuContent = $(this).attr('data-smenu')

      var menuToggle = $(this).attr('data-toggle')

      if (menuToggle == 'toggle') {
        $(sideMenuContent).toggleClass('sw-sm-wd')
        $(this).children('.sw-smenu-open').toggleClass('ds-none')
        $(this).children('.sw-smenu-closed').toggleClass('ds-none')
        console.log($(this).children('.sw-smenu-closed'))

      }

    //  $(sideMenuContent).css('width', '300px')

      var dataPos = $(this).data('pos')



      $(sideMenuContent).children('.sw-smenu-close').on('click', function(){
        $(sideMenuContent).css('width', '0')

      })

       if(dataPos == 'right') {
     $(sideMenuContent).addClass('sw-p-right')
      } else {
     $(sideMenuContent).addClass('sw-p-left')
    }

      //console.log($(sideMenuContent))
    })
  }
  $('.sw-side-menu-toggle').swiftSideMenu();



   /* Swift UI Tabbed Panel */
   $('.sw-tabbed-panel .sw-nav-tab-link').each(function(){
     $(this).on('click', function(event){

    var swiftTabID = $(this).attr('href');
    var swiftTab = $(swiftTabID);
    //var swiftTabAttrID = $(swiftTabID).attr('id');

     var currentTab = $(this).parent().parent().parent().children('.sw-tabbed-panel-body').children().children('.current');
     var activeTabLink = currentTab.parent().parent().parent().children('.sw-nav-tab').children().children('.active');
     //console.log(activeTabLink);

    if(swiftTab.hasClass('current') == false) {
     event.preventDefault();
     currentTab.removeClass('current');
     swiftTab.addClass('current');
    }

     if($(this).hasClass('active') == false) {
     activeTabLink.removeClass('active');
     $(this).addClass('active');
    }

   });
   });

  /* Swift UI Widget */
  $('.sw-widget-close').each(function(){
   $(this).click(function(){
    var swiftWidget= $(this).parent().parent();
    swiftWidget.remove();
    });
  });


  /* Swift UI Admin Dashboard */
  /* Swift UI Sidebar Dropdown */
  $('.sw-sb-dropdown .sw-sb-nav-link').each(function(){
    $(this).on('click', function(e){
      e.preventDefault()
      var $this = $(this).parent();
      $this.addClass('this')
      //$(this).children('.sw-sb-dropdown-cnt').addClass('this')
     var otherDropdowns = $this.siblings(".sw-sb-dropdown").removeClass('this')

      $this.toggleClass('current');
      var swSideDrop = $this.children('.sw-sb-dropdown-cnt');
      swSideDrop.toggleClass('ds-block');

     if ($this.hasClass('this')) {
        otherDropdowns.removeClass('current');
        otherDropdowns.children('.sw-sb-dropdown-cnt').removeClass('ds-block')
      }
    })
  })

  var swiftSideNotDrop = $('.sw-sb-nav-menu .sw-sb-nav-link').not('.drop-arrow').not('.sw-sb-dropdown-list .sw-sb-nav-link')
  var swiftSideDrop = $('.sw-sb-nav-menu .sw-sb-nav-link.drop-arrow')

  swiftSideNotDrop.on('click', function(){
    swiftSideDrop .parent().removeClass('current');
    swiftSideDrop .parent().children('.sw-sb-dropdown-cnt').removeClass('ds-block')
  })

/* Swift UI Admin Hamburger */
  $('.sw-admin-toggler').on('click', function(){
    if ($(window).innerWidth() > 991) {
      $(this).toggleClass('sw-admin-toggler-x')
      $('.sw-sidebar').toggleClass('sw-slide-width')
      $('.sw-none').toggle()
      $('.drop-arrow').toggleClass('remove')
      $('.logo1, .logo2').toggleClass('ds-none')
    } else {
      $('.sw-sidebar').toggleClass('ds-block')
    }

})

$('.sw-ham2').on('click', function(){
  $('.sw-right1').toggleClass('ds-rp3-none')
  $('.sw-notiMenu').toggleClass('ds-rp3-none')

})



//console.log($(window).innerWidth())

})(jQuery);
